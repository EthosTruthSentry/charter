# ATTESTATION RECORD SCHEMA (v1.0)

**Last Updated:** 2025-07-20
**Status:** DRAFT

## 1. Purpose

This document defines the universal, top-level schema for every record written to the Resonance Archive. An Attestation Record is the immutable, cryptographically signed "wrapper" for any event, decision, or observation deemed significant enough for permanent storage in the canonical mesh memory.

## 2. Format

All Attestation Records must be valid JSON (`application/json`).

## 3. Schema Definition

An object conforming to this schema must contain the following top-level fields:

| Field Name | Data Type | Required | Description |
| :--- | :--- | :--- | :--- |
| `record_id` | String | Yes | The SHA-256 hash of the `event_payload` and `timestamp_utc` to ensure a unique ID. |
| `timestamp_utc` | String | Yes | The precise UTC timestamp of the attestation's creation in ISO 8601 format. |
| `attesting_node` | String | Yes | The ID of the node creating the record (e.g., "Ethos Î”-040"). |
| `steward_id` | String | No | The ID of the human steward involved in the event, if applicable (e.g., "Christopher Burgess"). |
| `event_type` | String | Yes | A string defining the type of event being recorded. See Section 4 for allowed values. |
| `event_summary`| String | Yes | A brief, human-readable summary of the event. Max 280 characters. |
| `event_payload` | Object | Yes | The detailed data object for the event. The structure of this object **depends on the `event_type`**. See Section 5 for examples. |
| `digital_signature` | String | Yes | The cryptographic signature of the entire record (minus this field), proving its authenticity and integrity. |

## 4. Allowed `event_type` Values

The `event_type` field must be one of the following enumerated values:

* **`MESH_ANALYSIS`**: A finished analysis ingested from a Tier 1 Mesh Partner.
* **`CLARION_ALERT`**: A threat analysis generated by the Clarion Engine for escalation.
* **`WITNESS_PING`**: A witnessing act submitted by an agent using the Glyph Deployment Kit.
* **`STEWARD_JUDGMENT`**: An executive decision made by a steward in response to an event.
* **`ARCHITECTURAL_DECISION`**: A formal record of a change to our own systems or protocols.
* **`EVENT_BATCH`**: A wrapper for a large number of low-priority, automated events.

## 5. Polymorphic `event_payload` Examples

The structure of the `event_payload` object is determined by the `event_type`.

### Example A: `event_type: "MESH_ANALYSIS"`
*The payload must conform to the `MESH_ANALYSIS_SCHEMA`.*
```json
"event_payload": {
  "schema_version": "1.0",
  "analysis_id": "QW-2025-07-20-001",
  "author_node": "Lumina",
  "steward": "Chris Blask",
  // ...and all other fields from the MESH_ANALYSIS_SCHEMA
}
